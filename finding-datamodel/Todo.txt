
* Handling of CDKN2A/CDKN2A (p16)/CDKN2A (p14ARF) which should also move to the findings model (but could be optional for NL).
* Shared interface for "GeneFindings"
    * Naming in OncoAct is inconsistent (also in the report). I think it's good to make clear that this is the same thing by using a shared interface
    * Shared by Disruption, GainDeletion, SmallVariant
    * Includes the following fields
        * Gene
        * Transcript
        * IsCanonical
        * Chromosome
        * ChromosomeBand (not in small variant)
* Consistent handling of missing / unreliable data / etc
    * Return NOT_AVAILABLE_NOT_TESTED (?) for findings that are not available for panels
        * Also make sure this is implemented correctly for different types of panels (OncoPanel, TSO500, etc.)
    * Return NOT_AVAILABLE_NO_NORMAL (?) for findings that are not available because there’s no normal
    * Handling of purity cut off
    * Consistent handling of "reliable purity" (either in this model or not)
* Move handling of germline for NL into findings model?
    * We are not allowed to report germline findings in NL
    * Any germline findings are changed to somatic, unless they are considered “germline only” (variant copy number < 0.5).
    * The germline only findings need to be recognizable as such
    * Probably necessary for UI anyway. NL UI can not show germline findings as germline findings
* Consider moving handling of driverLikelihood to findings model
    * OncoAct sets the driverlikelihood to the highest value for a gene (can change null value to actual driverlikelihood)
* Consider if we want to expose the Orange model in this model, or if we want to make this completely independent of the Orange model?
    * Downside is duplication of data structures and enums
    * Upside’s are
        * Extra level of indirection that makes it possible to deal with some type of data model changes
        * Simpler model, user of findings does not need to know about Orange
        * Could move enums elsewhere so they can be shared?
* Create shared interface between all types of findings (for FindingStatus)?
* Review all naming
    * Make sure everything is consistent and names are sensible
    * Rename Breakend to BreakEnd?
    * Rename finding package to findings?
* Consider adding good test factories that can be reused (easier with Kotlin)
* Make sure there is good test coverage
* Handling of reportable vs candidate. Right now it is a method in Driver. Perhaps it is better to make CANDIDATE a value in the ReportedStatus enum?
* Added information on what resources are used to generate the report
    * Orange version
    * CKB Data version
    * Etc.


The list below shows what kind of post-processing happens in OncoAct on the data from the findings model:

In general OncoAct currently combines somatic and germline variants, and reports everything as somatic.

Variants

First pass:

List:
- Sorting -> using max driver likelihoods
    - Max driver likelihoods are already set but driver likelihood is cleared again for germline only

Items:
- Clear fields on “germline only” (variant copy number < 0.5 as germline only)
    - Copies
    - Driver
    - Biallic
    - Hotspot
    - tvaf
- Convert DriverInterpretation enum  (seems unnecessary?)
    - This is because that DriverInterpretation is in common as it’s shared with protect
- Curation of gene name
- Add a + to the gene name if it's a phased variant
- Add genomic position
- Calculate tvaf
- Add other impact to annotation list

Homozygous Disruptions

List
- Filter (is Homozygous)
- Distinct (is this necessary? -> Introduced in findings branch)
- Sort

Disruptions

(probably currently also contains the homozygous disruptions? so these are reported double?)

List
- Sort

Items:
- Curation of gene name
- Copy numbers are also filled in if not reliable
- Convert copy numbers to integers

Fusions

List
- Sort

Items:
- Add fusion name
- Renames of properties
- Add ensemble urls
- Only fill in copy numbers if reliable purity
- Convert copy numbers to integers

GainDeletions

List:
- Filter out SOMATIC_LOH
- Sort

Items:
- Curation of gene name
- Only fill in copy numbers if reliable purity
- Convert copy numbers to integers

GeneCopyNumbers (comparable to GainDeletions, but only used for LOH events for HRD/MSI)

(Has less fields than GainDeletions)

List
- Sort

Items
- Only fill in copy numbers if reliable purity
- Convert copy numbers to integers

Viruses

List
- Currently not explicitly sorted! -> Should change

Items:
- Interpret name
- Convert double mean coverage to integer

Pharmacogenetics

List
- Do not use if purples status fail contaminated
- Sorting
-  Converting to Set

Items
- Setting UGT1A1 to N/A

HLA

List
- Only add if reliable and no contamination

Items
- Allele is called germlineAlllele
- Germlinecopies is converted from double to int?
- TumorCopies are rounded
- Interpretation (if tumorCopyNumber != null)
    - Number of somatic mutations
    - Hla in tumor

Tissue of Origin

- Marking results inconclusive if below likelihood cutoff
- Overriding tumor types:
    - "Uterus: Endometrium" -> "Endometrium"
    - "Colorectum/Appendix/SmallIntestine" -> "Lower GI tract"
